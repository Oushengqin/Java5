计191欧升琴2019311459

模拟学生作业处理

一、实验目的

（1）掌握字符串String及其方法的使用；

（2）掌握文件的读取/写入方法；
  
（3）掌握异常处理结构；


二、实验要求

（1）设计学生类；
（2）采用交互式方式实例化某学生；
（3）设计程序完成上述的业务逻辑处理，并且把“古诗处理后的输出”结果存储到学生基本信息所在的文本文件A中。
（4）文件A包括两部分内容：
    一是学生的基本信息；
    二是学生处理后的作业信息，该作业的业务逻辑内容是：利用已学的字符串处理知识编程完成《长恨歌》古诗的整理对齐工作，写出功能方法，实现如下功能：

（5）每7个汉字加入一个标点符号，奇数时加“，”，偶数时加“。”
（6）允许提供输入参数，统计古诗中某个字或词出现的次数；
（7）输入的文本来源于文本文件B读取，把处理好的结果写入到文本文件A；
（8）考虑操作中可能出现的异常，在程序中设计异常处理程序；


三、实验过程

1.读取"E:\\Shiyanwu_txt"路径中的文件;，用catch捕捉，防止读取失败；

2.创建新文件，写入文本内容，存入文本，关闭；

3.每7个汉字加入一个标点符号，奇数时加“，”，偶数时加“。”

4.提供输入参数，统计古诗中"人"出现的次数;

5.从路径"E:\\javawenben\\A.txt"读取学生信息，压缩存入文件，并输出已写入文本;


四、核心代码：
1.try {//防止文件读取失败，用catch捕捉
			String pathname = "E:\\Shiyanwu_txt";
			File filename = new File(pathname);//读取以上路径的Shiyanwu_txt文件；
2.BufferedReader br = new BufferedReader(reader);
			if(!filename.exists()) {
				filename.getParentFile().mkdirs();
			}//创建TXT文件
			filename.createNewFile();//创建新文件
			FileWriter b = new FileWriter(filename,true);
			BufferedWriter b1 =new BufferedWriter(b);
			if(!filename.exists()) {
				b1.write("汉皇重色思倾国御宇多年求不得杨家有女初长成养在深闺人未识天生丽质难自弃一朝选在君王侧回眸一笑百媚生六宫粉黛无颜色春寒赐浴华清池温泉水滑洗凝脂侍儿扶起娇无力始是新承恩泽时云鬓花颜金步摇芙蓉帐暖度春宵春宵苦短日高起从此君王不早朝承欢侍宴无闲暇春从春游夜专夜后宫佳丽三千人三千宠爱在一身金屋妆成娇侍夜玉楼宴罢醉和春姊妹弟兄皆列士可怜光采生门户遂令天下父母心不重生男重生女骊宫高处入青云仙乐风飘处处闻缓歌慢舞凝丝竹尽日君王看不足渔阳鼙鼓动地来惊破霓裳羽衣曲九重城阙烟尘生千乘万骑西南行翠华摇摇行复止西出都门百余里六军不发无奈何宛转蛾眉马前死花钿委地无人收翠翘金雀玉搔头君王掩面救不得回看血泪相和流黄埃散漫风萧索云栈萦纡登剑阁峨嵋山下少人行旌旗无光日色薄蜀江水碧蜀山青圣主朝朝暮暮情行宫见月伤心色夜雨闻铃肠断声天旋地转回龙驭到此踌躇不能去马嵬坡下泥土中不见玉颜空死处君臣相顾尽沾衣东望都门信马归归来池苑皆依旧太液芙蓉未央柳芙蓉如面柳如眉对此如何不泪垂春风桃李花开日秋雨梧桐叶落时西宫南内多秋草落叶满阶红不扫梨园弟子白发新椒房阿监青娥老夕殿萤飞思悄然孤灯挑尽未成眠迟迟钟鼓初长夜耿耿星河欲曙天鸳鸯瓦冷霜华重翡翠衾寒谁与共悠悠生死别经年魂魄不曾来入梦临邛道士鸿都客能以精诚致魂魄为感君王辗转思遂教方士殷勤觅排空驭气奔如电升天入地求之遍上穷碧落下黄泉两处茫茫皆不见忽闻海上有仙山山在虚无缥渺间楼阁玲珑五云起其中绰约多仙子中有一人字太真雪肤花貌参差是金阙西厢叩玉扃转教小玉报双成闻道汉家天子使九华帐里梦魂惊揽衣推枕起徘徊珠箔银屏迤逦开云鬓半偏新睡觉花冠不整下堂来风吹仙袂飘飖举犹似霓裳羽衣舞玉容寂寞泪阑干梨花一枝春带雨含情凝睇谢君王一别音容两渺茫昭阳殿里恩爱绝蓬莱宫中日月长回头下望人寰处不见长安见尘雾惟将旧物表深情钿合金钗寄将去钗留一股合一扇钗擘黄金合分钿但教心似金钿坚天上人间会相见临别殷勤重寄词词中有誓两心知七月七日长生殿夜半无人私语时在天愿作比翼鸟在地愿为连理枝天长地久有时尽此恨绵绵无绝期");
			}
			b1.flush();//存入文本
			b1.close();//关闭文件
3.int totalCount = 0;
		    String key = "人";
		    totalCount += countKey(str, key);
		    System.out.println("文章中一共出现了：" + key + ":" + totalCount + "次");
 4.String path2 = "E:\\javawenben\\A.txt";
			File file2 = new File(path2);

			if(!file2.exists()){
			file2.getParentFile().mkdirs();          
			}//创建TXTA文件
			file2.createNewFile();
			// write
   5.String m="学生信息：";
			a1.write(m+"\r\n"+"*********************************************"+"\r\n");

			String n="学生作业：";
			a1.write(n+"\r\n"+"*********************************************"+"\r\n");
			a1.write(s.toString());
			a1.flush();// 把缓存区内容压入文件
			a1.close();
			System.out.println("已经写入文本");
			
	五、实验感想：
   学会写入与文件的读取，用字符串将文本整理，写代码过程通过查询解决了出现的各种错误，虽然最后没有运行出来，但收获颇多，并不气馁，继续加强。
